---
title: 'Flujo de Caja de Bonos'
openapi: 'GET /api/v1/market_data/bonds/{symbol}/cashflow'
---

<Note>
  Este endpoint obtiene el flujo de caja de un bono específico, incluyendo todos los pagos de capital e intereses.
</Note>

## Parámetros de Ruta

<ParamField path="symbol" type="string" required>
  El símbolo del bono (ej., "AL30", "GD30", "AE38").
</ParamField>

## Parámetros de Consulta

<ParamField query="nominal_units" type="integer" required>
  Unidades nominales para el cálculo. Esto determina el valor nominal de la posición del bono para la cual calcular el flujo de caja.
</ParamField>

## Ejemplo de Solicitud

```bash
curl -X GET "https://api.doctacapital.com.ar/api/v1/market_data/bonds/AL30/cashflow?nominal_units=100" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

## Respuesta Exitosa

<ResponseField name="ticker" type="string">
  El símbolo del bono solicitado.
</ResponseField>

<ResponseField name="nominal_units" type="number">
  Las unidades nominales utilizadas para el cálculo.
</ResponseField>

<ResponseField name="payments" type="array">
  Array de pagos del flujo de caja para el bono.
</ResponseField>

<ResponseField name="payments[].date" type="string">
  La fecha de pago en formato YYYY-MM-DD.
</ResponseField>

<ResponseField name="payments[].principal" type="number">
  El monto de capital pagado en esta fecha.
</ResponseField>

<ResponseField name="payments[].interest" type="number">
  El monto de intereses pagado en esta fecha.
</ResponseField>

<ResponseField name="payments[].total" type="number">
  El monto total pagado en esta fecha (principal + intereses).
</ResponseField>

<ResponseField name="payments[].remaining_principal" type="number">
  El capital restante después de este pago.
</ResponseField>

<ResponseField name="total_principal" type="number">
  Total de pagos de capital durante la vida del bono.
</ResponseField>

<ResponseField name="total_interest" type="number">
  Total de pagos de intereses durante la vida del bono.
</ResponseField>

<ResponseField name="total_cashflow" type="number">
  Monto total del flujo de caja durante la vida del bono.
</ResponseField>

## Ejemplo de Respuesta Exitosa

```json
{
  "ticker": "AL30",
  "nominal_units": 100.0,
  "payments": [
    {
      "date": "2021-07-09",
      "principal": 0.0,
      "interest": 0.1101388888888889,
      "total": 0.1101388888888889,
      "remaining_principal": 100.0
    },
    {
      "date": "2022-01-09",
      "principal": 0.0,
      "interest": 0.25,
      "total": 0.25,
      "remaining_principal": 100.0
    },
    {
      "date": "2022-07-09",
      "principal": 0.0,
      "interest": 0.25,
      "total": 0.25,
      "remaining_principal": 100.0
    },
    {
      "date": "2023-01-09",
      "principal": 0.0,
      "interest": 0.25,
      "total": 0.25,
      "remaining_principal": 100.0
    },
    {
      "date": "2023-07-09",
      "principal": 0.0,
      "interest": 0.25,
      "total": 0.25,
      "remaining_principal": 100.0
    },
    {
      "date": "2024-01-09",
      "principal": 0.0,
      "interest": 0.375,
      "total": 0.375,
      "remaining_principal": 100.0
    },
    {
      "date": "2024-07-09",
      "principal": 4.0,
      "interest": 0.375,
      "total": 4.375,
      "remaining_principal": 96.0
    },
    {
      "date": "2025-01-09",
      "principal": 8.0,
      "interest": 0.375,
      "total": 8.36,
      "remaining_principal": 88.0
    },
    {
      "date": "2025-07-09",
      "principal": 8.0,
      "interest": 0.375,
      "total": 8.33,
      "remaining_principal": 80.0
    },
    {
      "date": "2026-01-09",
      "principal": 8.0,
      "interest": 0.375,
      "total": 8.3,
      "remaining_principal": 72.0
    },
    {
      "date": "2026-07-09",
      "principal": 8.0,
      "interest": 0.375,
      "total": 8.27,
      "remaining_principal": 64.0
    },
    {
      "date": "2027-01-09",
      "principal": 8.0,
      "interest": 0.375,
      "total": 8.24,
      "remaining_principal": 56.0
    },
    {
      "date": "2027-07-09",
      "principal": 8.0,
      "interest": 0.375,
      "total": 8.21,
      "remaining_principal": 48.0
    },
    {
      "date": "2028-01-09",
      "principal": 8.0,
      "interest": 0.8750000000000002,
      "total": 8.42,
      "remaining_principal": 40.0
    },
    {
      "date": "2028-07-09",
      "principal": 8.0,
      "interest": 0.8750000000000002,
      "total": 8.35,
      "remaining_principal": 32.0
    },
    {
      "date": "2029-01-09",
      "principal": 8.0,
      "interest": 0.8750000000000002,
      "total": 8.28,
      "remaining_principal": 24.0
    },
    {
      "date": "2029-07-09",
      "principal": 8.0,
      "interest": 0.8750000000000002,
      "total": 8.21,
      "remaining_principal": 16.0
    },
    {
      "date": "2030-01-09",
      "principal": 8.0,
      "interest": 0.8750000000000002,
      "total": 8.14,
      "remaining_principal": 8.0
    },
    {
      "date": "2030-07-09",
      "principal": 8.0,
      "interest": 0.8750000000000002,
      "total": 8.07,
      "remaining_principal": 0.0
    }
  ],
  "total_principal": 100.0,
  "total_interest": 9.360138888888889,
  "total_cashflow": 105.04013888888889
}
```

## Respuestas de Error

### 500 Error Interno del Servidor
Error interno del servidor.

```json
{
  "type": "/errors/internal-server-error",
  "title": "Internal server error",
  "status": 500,
  "detail": "Internal server error",
  "correlation_id": "6cd1fd05-63e9-4863-832f-d873e58e9d67"
}
```

### 401 No Autorizado
Token de acceso inválido o faltante.

```json
{
  "type": "/errors/authentication-required",
  "title": "Authorization header missing",
  "status": 401,
  "detail": "Authorization header missing",
  "correlation_id": "d6e20e07-0580-4e2d-9480-00a68c1ae493"
}
```

### 404 No Encontrado
Bono no encontrado o no hay datos de flujo de caja disponibles.

```json
{
  "type": "/errors/not-found",
  "title": "Resource not found: /bonds/cash_flow",
  "status": 404,
  "detail": "Resource not found: /bonds/cash_flow",
  "correlation_id": "438caef0-f014-4a80-874c-4d0261ff28a3"
}
```

## Notas

- Los datos de flujo de caja incluyen todos los pagos futuros hasta el vencimiento del bono
- Los montos se calculan basándose en las unidades nominales especificadas
- Las fechas de pago son en días hábiles (los fines de semana y feriados pueden afectar las fechas reales de pago)
- Los pagos de capital pueden incluir amortizaciones parciales o pagos bullet al vencimiento
- Los montos se expresan en la moneda base del bono (típicamente USD para bonos hard dollar)
- El campo `remaining_principal` muestra el capital pendiente después de cada pago
- Los pagos incluyen tanto el desglose de capital e intereses como el total combinado
